(function(){var e={343:function(e,o,r){"use strict";var t=r(9242),n=r(1020),l=r(3396);const i={class:"app"};function a(e,o,r,t,n,a){const s=(0,l.up)("floor-row"),u=(0,l.up)("elevator-cabin");return(0,l.wg)(),(0,l.iD)("div",i,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(t.floorsStore.numberOfFloors,(e=>((0,l.wg)(),(0,l.j4)(s,{key:e,floorNumber:e},null,8,["floorNumber"])))),128)),(0,l.Wm)(u)])}const s={class:"floor"};function u(e,o,r,t,n,i){const a=(0,l.up)("vertical-line"),u=(0,l.up)("shaft-item"),c=(0,l.up)("hall-item");return(0,l.wg)(),(0,l.iD)("div",s,[(0,l.Wm)(a),(0,l.Wm)(u),(0,l.Wm)(a),(0,l.Wm)(c,{floorNumber:r.floorNumber},null,8,["floorNumber"])])}const c={class:"shaft"};function f(e,o,r,t,n,i){return(0,l.wg)(),(0,l.iD)("div",c)}var v={name:"shaft-item"},d=r(89);const h=(0,d.Z)(v,[["render",f],["__scopeId","data-v-f402dfe2"]]);var m=h,p=r(7139);const b={class:"hall"},g=["disabled"];function F(e,o,r,t,n,i){return(0,l.wg)(),(0,l.iD)("div",b,[(0,l._)("button",{class:(0,p.C_)(["btn",{active:t.floorsStore.isFloorInCallQueue(r.floorNumber),next:t.floorsStore.firstFloorInCallQueue===r.floorNumber}]),onClick:o[0]||(o[0]=(...e)=>i.elevatorCallHandleClick&&i.elevatorCallHandleClick(...e)),disabled:i.isElevatorOnCurrentFloor()},(0,p.zw)(r.floorNumber),11,g)])}r(7658);var w=r(466);const _=(0,n.Q_)("floorsStore",{state:()=>({numberOfFloors:(0,w._aR)("numberOfFloors",5),callQueue:(0,w._aR)("callQueue",[]),currentFloor:(0,w._aR)("currentFloor",1),elevatorDirection:(0,w._aR)("elevatorDirection","stop"),isElevatorActive:(0,w._aR)("isElevatorActive",!1),isElevatorWaiting:(0,w._aR)("isElevatorWaiting",!1),pxTransform:(0,w._aR)("pxTransform",0),elevatorSpeed:(0,w._aR)("elevatorSpeed",0)}),getters:{isFloorInCallQueue:e=>o=>e.callQueue.includes(o),firstFloorInCallQueue:e=>e.callQueue[0]},actions:{addToCallQueue(e){this.callQueue.push(e)},removeFromCallQueue(){this.callQueue=this.callQueue.filter((e=>e!==this.currentFloor))},changeElevatorActive(e){this.isElevatorActive=e},changeElevatorWaiting(e){this.isElevatorWaiting=e},moveNextFloor(){const e=!this.callQueue.length;if(e)return this.isElevatorActive=!1,void(this.elevatorDirection="stop");const o=this.currentFloor,r=this.firstFloorInCallQueue;this.pxTransform=-200*(r-1),this.elevatorSpeed=Math.abs(r-o),this.elevatorDirection=o<r?"up":"down",this.currentFloor=r}}});var C={name:"hall-item",props:{floorNumber:{type:Number}},methods:{elevatorCallHandleClick(){const e=this.floorsStore.isFloorInCallQueue(this.floorNumber),o=this.floorsStore.isElevatorActive;e||this.addToQueue(this.floorNumber),o||(this.changeElevatorActive(!0),this.moveNextFloor())},isElevatorOnCurrentFloor(){return this.floorsStore.currentFloor===this.floorNumber}},setup(){const e=_(),o=o=>e.addToCallQueue(o),r=o=>e.changeElevatorActive(o),t=()=>e.moveNextFloor();return{floorsStore:e,addToQueue:o,changeElevatorActive:r,moveNextFloor:t}}};const N=(0,d.Z)(C,[["render",F],["__scopeId","data-v-61a54e94"]]);var E=N,S={name:"floor-row",components:{ShaftItem:m,HallItem:E},props:{floorNumber:{type:Number}}};const x=(0,d.Z)(S,[["render",u],["__scopeId","data-v-da0d1be8"]]);var Q=x;const O={class:"scoreboard"},D=["src"];function k(e,o,t,n,i,a){return(0,l.wg)(),(0,l.iD)("div",{class:(0,p.C_)(["elevator",{blink:n.floorsStore.isElevatorWaiting}]),style:(0,p.j5)({transform:`translateY(${n.floorsStore.pxTransform}px)`,"transition-duration":`${n.floorsStore.elevatorSpeed}s`}),onTransitionend:o[0]||(o[0]=(...e)=>a.moveNextFloor&&a.moveNextFloor(...e))},[(0,l._)("div",O,[(0,l.Uk)((0,p.zw)(n.floorsStore.currentFloor)+" ",1),"stop"!==n.floorsStore.elevatorDirection?((0,l.wg)(),(0,l.iD)("img",{key:0,src:r(968)(`./${n.floorsStore.elevatorDirection}.svg`),alt:"elevatorDirection"},null,8,D)):(0,l.kq)("",!0)])],38)}var y={methods:{moveNextFloor(){const e=!this.floorsStore.callQueue.length;if(e)return!1;this.changeElevatorWaiting(!0),setTimeout((()=>{this.changeElevatorWaiting(!1),this.floorsStore.removeFromCallQueue(),this.floorsStore.moveNextFloor()}),3e3)}},mounted(){this.moveNextFloor()},setup(){const e=_(),o=o=>e.changeElevatorWaiting(o);return{floorsStore:e,changeElevatorWaiting:o}}};const W=(0,d.Z)(y,[["render",k],["__scopeId","data-v-3a51b3b3"]]);var T=W,I={name:"App",components:{FloorRow:Q,ElevatorCabin:T},setup(){const e=_();return{floorsStore:e}}};const A=(0,d.Z)(I,[["render",a]]);var j=A;const R={class:"line"};function Z(e,o,r,t,n,i){return(0,l.wg)(),(0,l.iD)("div",R)}var H={name:"vertical-line"};const M=(0,d.Z)(H,[["render",Z],["__scopeId","data-v-5cae2fdc"]]);var U=M,$=[U];const z=(0,n.WB)(),P=(0,t.ri)(j);$.forEach((e=>{P.component(e.name,e)})),P.use(z),P.mount("#app")},968:function(e,o,r){var t={"./down.svg":1426,"./up.svg":318};function n(e){var o=l(e);return r(o)}function l(e){if(!r.o(t,e)){var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}return t[e]}n.keys=function(){return Object.keys(t)},n.resolve=l,e.exports=n,n.id=968},1426:function(e,o,r){"use strict";e.exports=r.p+"img/down.d5e20320.svg"},318:function(e,o,r){"use strict";e.exports=r.p+"img/up.b83856bd.svg"}},o={};function r(t){var n=o[t];if(void 0!==n)return n.exports;var l=o[t]={exports:{}};return e[t](l,l.exports,r),l.exports}r.m=e,function(){var e=[];r.O=function(o,t,n,l){if(!t){var i=1/0;for(c=0;c<e.length;c++){t=e[c][0],n=e[c][1],l=e[c][2];for(var a=!0,s=0;s<t.length;s++)(!1&l||i>=l)&&Object.keys(r.O).every((function(e){return r.O[e](t[s])}))?t.splice(s--,1):(a=!1,l<i&&(i=l));if(a){e.splice(c--,1);var u=n();void 0!==u&&(o=u)}}return o}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[t,n,l]}}(),function(){r.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(o,{a:o}),o}}(),function(){r.d=function(e,o){for(var t in o)r.o(o,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){r.p="/TrueConf/"}(),function(){var e={143:0};r.O.j=function(o){return 0===e[o]};var o=function(o,t){var n,l,i=t[0],a=t[1],s=t[2],u=0;if(i.some((function(o){return 0!==e[o]}))){for(n in a)r.o(a,n)&&(r.m[n]=a[n]);if(s)var c=s(r)}for(o&&o(t);u<i.length;u++)l=i[u],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(c)},t=self["webpackChunktest"]=self["webpackChunktest"]||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))}();var t=r.O(void 0,[998],(function(){return r(343)}));t=r.O(t)})();
//# sourceMappingURL=app.794a0a42.js.map