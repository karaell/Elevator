(function(){var e={5354:function(e,o,r){"use strict";var t=r(9242),l=r(1020),n=r(3396);const a={class:"app"},s={class:"building"},i={class:"shafts"},u={class:"hall"};function c(e,o,r,t,l,c){const f=(0,n.up)("form-item"),v=(0,n.up)("shaft-column"),h=(0,n.up)("hall-row");return(0,n.wg)(),(0,n.iD)("div",a,[(0,n.Wm)(f,{id:"floors",labelValue:"Установить количество этажей:",placeholderValue:"Введите количество этажей...",onHandleClick:c.changeNumberOfFloors},null,8,["placeholderValue","onHandleClick"]),(0,n.Wm)(f,{id:"shafts",labelValue:"Установить количество лифтовых шахт:",placeholderValue:"Введите количество лифтовых шахт...",onHandleClick:c.changeNumberOfShafts},null,8,["placeholderValue","onHandleClick"]),(0,n._)("div",s,[(0,n._)("div",i,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.floorsStore.numberOfElevators,(e=>((0,n.wg)(),(0,n.j4)(v,{key:e,numberOfFloors:t.floorsStore.numberOfFloors},null,8,["numberOfFloors"])))),128))]),(0,n._)("div",u,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.floorsStore.numberOfFloors,(e=>((0,n.wg)(),(0,n.j4)(h,{key:e,floorNumber:e},null,8,["floorNumber"])))),128))])])])}const f={class:"hallRow"};function v(e,o,r,t,l,a){const s=(0,n.up)("hall-item");return(0,n.wg)(),(0,n.iD)("div",f,[(0,n.Wm)(s,{floorNumber:r.floorNumber},null,8,["floorNumber"])])}var h=r(7139);const d={class:"hall"},m={class:"hall__title"},p=["disabled"];function b(e,o,r,t,l,a){return(0,n.wg)(),(0,n.iD)("div",d,[(0,n._)("div",m,"Floor: "+(0,h.zw)(r.floorNumber),1),(0,n._)("button",{class:(0,h.C_)(["btn",{active:t.floorsStore.isFloorInCallQueue(r.floorNumber),next:t.floorsStore.firstFloorInCallQueue===r.floorNumber}]),onClick:o[0]||(o[0]=(...e)=>a.elevatorCallHandleClick&&a.elevatorCallHandleClick(...e)),disabled:a.isElevatorOnCurrentFloor()},null,10,p)])}r(7658);var g=r(466);const F=(0,l.Q_)("floorsStore",{state:()=>({numberOfElevators:(0,g._aR)("numberOfElevators",1),numberOfFloors:(0,g._aR)("numberOfFloors",5),elevators:(0,g._aR)("elevators",[{callQueue:[],currentFloor:1,elevatorDirection:"stop",isElevatorActive:!1,isElevatorWaiting:!1,pxTransform:0,elevatorSpeed:0}])}),getters:{isFloorInCallQueue:e=>o=>e.elevators[0].callQueue.includes(o),firstFloorInCallQueue:e=>e.elevators[0].callQueue[0]},actions:{changeNumberOfFloors(e){this.numberOfFloors=Number(e)},changeNumberOfShafts(e,o){this.numberOfElevators=Number(e),this.elevators=Array(this.numberOfElevators).fill(o)},addToCallQueue(e){this.elevators[0].callQueue.push(e)},removeFromCallQueue(){this.elevators[0].callQueue=this.elevators[0].callQueue.filter((e=>e!==this.elevators[0].currentFloor))},changeElevatorActive(e){this.elevators[0].isElevatorActive=e},changeElevatorWaiting(e){this.elevators[0].isElevatorWaiting=e},moveNextFloor(){const e=!this.elevators[0].callQueue.length;if(e)return this.elevators[0].isElevatorActive=!1,void(this.elevators[0].elevatorDirection="stop");const o=this.elevators[0].currentFloor,r=this.firstFloorInCallQueue;this.elevators[0].pxTransform=-200*(r-1),this.elevators[0].elevatorSpeed=Math.abs(r-o),this.elevators[0].elevatorDirection=o<r?"up":"down",this.elevators[0].currentFloor=r}}});var O={name:"hall-item",props:{floorNumber:{type:Number}},methods:{elevatorCallHandleClick(){const e=this.floorsStore.isFloorInCallQueue(this.floorNumber),o=this.floorsStore.elevators[0].isElevatorActive;e||this.addToQueue(this.floorNumber),o||(this.changeElevatorActive(!0),this.moveNextFloor())},isElevatorOnCurrentFloor(){return this.floorsStore.elevators[0].currentFloor===this.floorNumber}},setup(){const e=F(),o=o=>e.addToCallQueue(o),r=o=>e.changeElevatorActive(o),t=()=>e.moveNextFloor();return{floorsStore:e,addToQueue:o,changeElevatorActive:r,moveNextFloor:t}}},_=r(89);const C=(0,_.Z)(O,[["render",b],["__scopeId","data-v-4040e3a1"]]);var N=C,S={name:"hall-row",components:{HallItem:N},props:{floorNumber:{type:Number}}};const w=(0,_.Z)(S,[["render",v],["__scopeId","data-v-2c4e48ba"]]);var E=w;const k={class:"shaftColumn"};function y(e,o,r,t,l,a){const s=(0,n.up)("shaft-item"),i=(0,n.up)("elevator-cabin");return(0,n.wg)(),(0,n.iD)("div",k,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.numberOfFloors,(e=>((0,n.wg)(),(0,n.j4)(s,{key:e})))),128)),(0,n.Wm)(i)])}const x={class:"shaftItem"};function Q(e,o,r,t,l,a){return(0,n.wg)(),(0,n.iD)("div",x)}var D={name:"shaft-item",props:{numberOfFloors:{type:Number}}};const I=(0,_.Z)(D,[["render",Q],["__scopeId","data-v-3ebae753"]]);var V=I;const T={class:"scoreboard"},W=["src"];function H(e,o,t,l,a,s){return(0,n.wg)(),(0,n.iD)("div",{class:(0,h.C_)(["elevator",{blink:l.floorsStore.elevators[0].isElevatorWaiting}]),style:(0,h.j5)({transform:`translateY(${l.floorsStore.elevators[0].pxTransform}px)`,"transition-duration":`${l.floorsStore.elevators[0].elevatorSpeed}s`}),onTransitionend:o[0]||(o[0]=(...e)=>s.moveNextFloor&&s.moveNextFloor(...e))},[(0,n._)("div",T,[(0,n.Uk)((0,h.zw)(l.floorsStore.elevators[0].currentFloor)+" ",1),"stop"!==l.floorsStore.elevators[0].elevatorDirection?((0,n.wg)(),(0,n.iD)("img",{key:0,src:r(968)(`./${l.floorsStore.elevators[0].elevatorDirection}.svg`),alt:"elevatorDirection"},null,8,W)):(0,n.kq)("",!0)])],38)}var j={methods:{moveNextFloor(){const e=!this.floorsStore.elevators[0].callQueue.length;if(e)return!1;this.changeElevatorWaiting(!0),setTimeout((()=>{this.changeElevatorWaiting(!1),this.floorsStore.removeFromCallQueue(),this.floorsStore.moveNextFloor()}),3e3)}},setup(){const e=F(),o=o=>e.changeElevatorWaiting(o);return{floorsStore:e,changeElevatorWaiting:o}}};const A=(0,_.Z)(j,[["render",H],["__scopeId","data-v-2662e7c8"]]);var Z=A,R={name:"shaft-column",components:{ShaftItem:V,ElevatorCabin:Z},props:{numberOfFloors:{type:Number}}};const M=(0,_.Z)(R,[["render",y],["__scopeId","data-v-ded33040"]]);var U=M;const Y=["for"],$=["name","id","placeholder"];function z(e,o,r,l,a,s){return(0,n.wg)(),(0,n.iD)("form",{onSubmit:o[2]||(o[2]=(0,t.iM)((()=>{}),["prevent"])),class:"form"},[(0,n._)("label",{for:r.id},(0,h.zw)(r.labelValue),9,Y),(0,n.wy)((0,n._)("input",{class:"form__input","onUpdate:modelValue":o[0]||(o[0]=e=>a.inputValue=e),type:"text",name:r.id,id:r.id,placeholder:r.placeholderValue},null,8,$),[[t.nr,a.inputValue]]),(0,n._)("button",{class:"form__btn",onClick:o[1]||(o[1]=(...e)=>s.handleClick&&s.handleClick(...e))},"Установить")],32)}var K={props:{labelValue:{type:String},placeholderValue:{type:String},id:{type:String}},data(){return{inputValue:""}},methods:{handleClick(){this.$emit("handleClick",this.inputValue),this.inputValue=""}}};const P=(0,_.Z)(K,[["render",z],["__scopeId","data-v-740cf28c"]]);var q=P,B={name:"App",components:{HallRow:E,ShaftColumn:U,FormItem:q},methods:{changeNumberOfShafts(e){const o={callQueue:[],currentFloor:1,elevatorDirection:"stop",isElevatorActive:!1,isElevatorWaiting:!1,pxTransform:0,elevatorSpeed:0};e>0?this.floorsStore.changeNumberOfShafts(e,o):alert("Минимальное количество лифтовых шахт: 1")},changeNumberOfFloors(e){e>1?this.floorsStore.changeNumberOfFloors(e):alert("Минимальное количество этажей: 2")}},setup(){const e=F();return{floorsStore:e}}};const L=(0,_.Z)(B,[["render",c],["__scopeId","data-v-6e3c1be4"]]);var G=L;const J=(0,l.WB)(),X=(0,t.ri)(G);X.use(J),X.mount("#app")},968:function(e,o,r){var t={"./down.svg":1426,"./up.svg":318};function l(e){var o=n(e);return r(o)}function n(e){if(!r.o(t,e)){var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}return t[e]}l.keys=function(){return Object.keys(t)},l.resolve=n,e.exports=l,l.id=968},1426:function(e,o,r){"use strict";e.exports=r.p+"img/down.d5e20320.svg"},318:function(e,o,r){"use strict";e.exports=r.p+"img/up.b83856bd.svg"}},o={};function r(t){var l=o[t];if(void 0!==l)return l.exports;var n=o[t]={exports:{}};return e[t](n,n.exports,r),n.exports}r.m=e,function(){var e=[];r.O=function(o,t,l,n){if(!t){var a=1/0;for(c=0;c<e.length;c++){t=e[c][0],l=e[c][1],n=e[c][2];for(var s=!0,i=0;i<t.length;i++)(!1&n||a>=n)&&Object.keys(r.O).every((function(e){return r.O[e](t[i])}))?t.splice(i--,1):(s=!1,n<a&&(a=n));if(s){e.splice(c--,1);var u=l();void 0!==u&&(o=u)}}return o}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[t,l,n]}}(),function(){r.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(o,{a:o}),o}}(),function(){r.d=function(e,o){for(var t in o)r.o(o,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)}}(),function(){r.p="/TrueConf/"}(),function(){var e={143:0};r.O.j=function(o){return 0===e[o]};var o=function(o,t){var l,n,a=t[0],s=t[1],i=t[2],u=0;if(a.some((function(o){return 0!==e[o]}))){for(l in s)r.o(s,l)&&(r.m[l]=s[l]);if(i)var c=i(r)}for(o&&o(t);u<a.length;u++)n=a[u],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(c)},t=self["webpackChunktest"]=self["webpackChunktest"]||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))}();var t=r.O(void 0,[998],(function(){return r(5354)}));t=r.O(t)})();
//# sourceMappingURL=app.16832075.js.map